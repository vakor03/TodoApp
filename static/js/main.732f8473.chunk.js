(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{42:function(t){t.exports=JSON.parse('{"auth-domain":"dev-qaszft5o.us.auth0.com","auth-client-id":"yqVrCmrGQdD9bxRmDXc5E9OB1pted5Dj","auth-redirect-uri":"https://vakor03.github.io/TodoApp","auth-audience":"hasura","hasura-uri":"https://natural-coral-28.hasura.app/v1/graphql"}')},74:function(t,e,n){},86:function(t,e,n){"use strict";n.r(e);var o=n(2),c=n.n(o),a=n(54),d=n.n(a),i=n(22),r=n(6),s=n(4);var u=function(t){var e=Object(o.useState)(t.edit?t.edit.task:""),n=Object(r.a)(e,2),c=n[0],a=n[1],d=Object(o.useRef)(null);Object(o.useEffect)((function(){d.current.focus()}));var i=function(t){a(t.target.value)};return Object(s.jsx)("form",{className:"todo-form",onSubmit:function(e){e.preventDefault(),t.onSubmit({task:c}),a("")},children:t.edit?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("input",{type:"text",placeholder:"Update your item",value:c,name:"text",className:"todo-input edit",onChange:i,ref:d}),Object(s.jsx)("button",{className:"todo-button edit",children:"Update"})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("input",{type:"text",placeholder:"Add new todo",value:c,name:"text",className:"todo-input",onChange:i,ref:d}),Object(s.jsx)("button",{className:"todo-button",children:"Add todo"})]})})},l=n(48);var j,b,m,p,O=function(t){var e=t.todo,n=t.completeTodo,c=t.removeTodo,a=t.updateTodo,d=Object(o.useState)({id:null,task:"",completed:!1}),i=Object(r.a)(d,2),j=i[0],b=i[1];return j.id!==e.id?Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:e.completed?"todo-row complete":"todo-row",children:[Object(s.jsx)("div",{onClick:function(){return n(e.id)},children:e.task},e.id),Object(s.jsxs)("div",{className:"icons",children:[Object(s.jsx)(l.a,{onClick:function(){return c(e.id,e.completed)},className:"delete-icon"}),Object(s.jsx)(l.b,{onClick:function(){return b({id:e.id,task:e.task,completed:e.completed})},className:"edit-icon"})]})]})}):Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(u,{edit:j,onSubmit:function(t){a(j.id,t.task),b({id:null,task:"",completed:!1})}})})},h=n(92),f=n(98),x=n(27),v=n(101),g=(Object(v.a)(j||(j=Object(x.a)(["\n    mutation ToggleTodo($id: Int!, $completed: Boolean!) {\n        update_todos(where: {id: {_eq: $id}}, _set: {completed: $done}) {\n            returning {\n                id\n                title\n                completed\n            }\n        }\n    }\n"]))),Object(v.a)(b||(b=Object(x.a)(["\n    mutation AddTodo($title: String!) {\n        insert_todos(objects: {title: $text}) {\n            returning {\n                id\n                title\n                completed\n            }\n        }\n    }\n"])))),k=(Object(v.a)(m||(m=Object(x.a)(["\n    mutation DeleteTodo($id: Int!) {\n        delete_todos(where: {id: {_eq: $id}}) {\n            returning {\n                id\n                title\n                completed\n            }\n        }\n    }\n"]))),Object(v.a)(p||(p=Object(x.a)(["\n    subscription NewTaskSubscription {\n        todos(order_by: {id: asc}) {\n            id\n            title\n            completed\n        }\n    }\n"])))),T=n(32);var N=function(){var t=Object(o.useState)([]),e=Object(r.a)(t,2),n=e[0],c=e[1],a=Object(o.useState)(0),d=Object(r.a)(a,2),l=(d[0],d[1],Object(h.a)($)),j=(Object(r.a)(l,1)[0],Object(h.a)(S)),b=(Object(r.a)(j,1)[0],Object(h.a)(g)),m=Object(r.a)(b,2),p=m[0],x=(m[1].loading,Object(f.a)(k)),v=(x.data,x.loading,x.error,Object(T.a)()),N=(v.loginWithRedirect,v.logout,v.isAuthenticated,v.loading,function(t,e){var o=n.map((function(e){return e.id===t&&(e.completed=!e.completed),e}));c(o)}),S=function(t){var e=Object(i.a)(n).filter((function(e){return e.id!==t}));c(e)},$=function(t,e){e&&!/^\s*$/.test(e.text)&&c(n.map((function(n){return n.id===t&&(n.task=e),n})))};return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"What's the plan for Today?"}),Object(s.jsx)(u,{onSubmit:p}),n.map((function(t){return Object(s.jsx)(O,{todo:t,completeTodo:N,removeTodo:S,updateTodo:$})}))]})};n(74);var S=function(){return Object(s.jsx)("div",{className:"todo-app",children:Object(s.jsx)(N,{})})};n(42),n(49),n(46),n(56),n(88),n(99),n(102),n(100),n(59),n(57);d.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(S,{})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.732f8473.chunk.js.map